<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Learn</title>
    <script src="https://translate.google.com/translate_a/element.js?cb=translatePage"></script>


</head>

<body>
    <textarea id="text" class="text" translate="yes">
        Hello!
    </textarea>
    <script>
        async function translateText() {
            let text = document.getElementById("text").value;
            let targetLang = "yi"; // Yiddish language code

            let url = `https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=${targetLang}&dt=t&q=${encodeURIComponent(text)}`;

            try {
                let response = await fetch(url);
                let result = await response.json();
                var speech = new SpeechSynthesisUtterance(result[0].map(item => item[0]).join("")).value;
                speech.lang = "yi";
                speechSynthesis.speak(speech);
            } catch (error) {
                console.error("Error:", error);
            }
        }
        document.querySelector("textarea").addEventListener("keydown", function (e) {

            if ((e.metaKey || e.ctrlKey) && e.key === "Enter") {
                e.preventDefault()
                translateText();
            }
        });

    </script>
</body>

</html>